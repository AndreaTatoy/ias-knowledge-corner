<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Louise Andrea R. Tatoy's PKS</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Gaegu&display=swap" rel="stylesheet">

  <!-- Markdown parser -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <style>
    body {
      margin: 0;
      font-family: 'Gaegu', cursive;
      display: flex;
      height: 100vh;
      background: #FFD5D5; /* content bg */
    }

    #container {
      display: flex;
      max-width: 1100px;
      margin: 0 auto;
      height: 100vh;
      box-shadow: 0 0 20px rgba(0,0,0,0.1);
      border-radius: 10px;
      overflow: hidden;
    }

    /* sidebar */
    #sidebar {
      flex: 0 0 250px;
      background: #3A6F43;
      color: #fff;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      align-items: center;
      padding: 20px;
    }

    #sidebar img {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      margin-top:30px;
      margin-bottom: 15px;
      object-fit: cover;
      border: 2px solid #FDAAAA; /* accent border */
    }

    #sidebar h2 {
      margin: 0 0 10px 0;
      font-size: 20px;
      color: #ffffff; /* title color */
      text-align: center;
    }

    #sidebar p {
      font-size: 14px;
      text-align: center;
      margin-bottom: 20px;
      color: #ffffff; /* subheader color */
    }

    #sidebar nav ul {
      list-style: none;
      padding: 0;
      width: 100%;
    }

    #sidebar nav ul li {
      margin: 10px 0;
    }

    #sidebar nav ul li a {
      color: #ffffff;
      text-decoration: none;
      font-weight: bold;
      display: block;
      padding: 8px;
      border-radius: 8px;
      text-align: center;
      transition: all 0.2s ease;
    }

    #sidebar nav ul li a:hover,
    #sidebar nav ul li a.active {
      background: #FFD5D5;
      color: #3A6F43;
    }

    #sidebar-footer {
      margin-top: auto;
      text-align: center;
      padding: 10px 0;
    }

    .github-link {
      color: #FFD5D5;
      text-decoration: none;
      font-weight: bold;
      padding: 5px 10px;
      border-radius: 8px;
      transition: all 0.2s ease;
    }

    .github-link:hover {
      background: #FFD5D5;
      color: #3A6F43;
    }

    /* content area */
    #content {
      flex: 1;
      overflow-y: auto;
      padding: 30px 40px;
      background: #FFD5D5;
      color: #333;
    }

    h1 {
      color: #3A6F43;
      margin-top: 0;
    }

    h2, h3 {
      color: #E97F4A;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }

    table th, table td {
      border: 1px solid #3A6F43;
      padding: 10px;
      text-align: left;
    }

    table th {
      background: #3A6F43;
      font-weight: bold;
      color: #FFD5D5;
    }

    pre {
      background: #f4f4f4;
      padding: 10px;
      overflow-x: auto;
    }

    code {
      background: #f4f4f4;
      padding: 2px 4px;
      border-radius: 3px;
    }

    a {
      color: #FDAAAA;
      text-decoration: underline;
    }

    #description {
      font-size: 14px;
      text-align: center;
      color: #ffffff;
      height: 145px;
      overflow: hidden;
      white-space: pre-wrap; 
    }

    .collapsible {
      font-family: 'Gaegu', cursive;
      font-size: 16px;
      background: #3A6F43;
      color: #fff;
      cursor: pointer;
      padding: 10px;
      width: 200px;
      border: none;
      outline: none;
      text-align: center;
      font-weight: bold;
      border-radius: 5px;
      margin: 10px 0 5px 0;
      transition: background 0.2s;
    }

    .collapsible:hover {
      background: #FDAAAA;
      color: #3A6F43;
    }

    .collapsible.active {
      background: #E97F4A;
      color: #ffffff;
    }

    .collapsible-content {
      list-style: none;
      padding: 0;
      display: none; /* hidden by default */
      width: 100%;
    }

    .collapsible-content li {
      margin: 5px 0;
    }

    .collapsible-content li a {
      color: #FFD5D5;
      text-decoration: none;
      display: block;
      padding: 8px;
      border-radius: 5px;
      text-align: center;
      transition: all 0.2s ease;
    }

    .collapsible-content li a:hover,
    .collapsible-content li a.active {
      background: #FDAAAA;
      color: #3A6F43;
    }

    .collapsible::after {
      content: "‚ñΩ";
      display: inline-block;
      margin-left: 10px;
      vertical-align: middle;
      font-size: 0.7em;
      transition: transform 0.2s ease;
    }

    .collapsible.active::after {
      transform: rotate(180deg);
      vertical-align: 2px;
    }
    
    .profile-img {
      transition: transform .25s ease, box-shadow .25s ease;
    }

    .profile-img:hover {
        transform: scale(1.05) rotate(-2deg);
        box-shadow: 0 6px 14px rgba(0,0,0,0.15);
    }

    .page-transition {
        animation: slideUpSmooth 0.8s ease-out;
    }

    @keyframes slideUpSmooth {
        0% { opacity: 0; transform: translateY(40px); }
        100% { opacity: 1; transform: translateY(0); }
    }

</style>

</head>
<body>
  <div id="container">
    <div id="sidebar">
      <img src="me.jpg" alt="Louise Andrea Tatoy" class="profile-img">
      <h2 style="margin-top: 14px;">Louise Andrea R. Tatoy</h2>
      <p id="description"></p>

      <nav>
        <ul style="list-style:none; padding:0; width:100%; margin-bottom:14px;">
          <li>
            <a href="#" data-file="notes/about.md">About Me</a>
          </li>
        </ul>

        <!-- Midterm Topics -->
        <div class="collapsible-container">
          <button class="collapsible">Midterm Topics</button>
          <ul class="collapsible-content">
            <li><a href="#" data-file="notes/1.md">Importance of Security</a></li>
            <li><a href="#" data-file="notes/2.md">Career Opportunities</a></li>
            <li><a href="#" data-file="notes/3.md">Encryption Fundamentals</a></li>
            <li><a href="#" data-file="notes/4.md">Cloud & Virtualization</a></li>
            <li><a href="#" data-file="notes/5.md">OS Command Injection</a></li>
            <li><a href="#" data-file="notes/6.md">SQL Injection</a></li>
            <li><a href="#" data-file="notes/7.md">Cross-Site Scripting</a></li>
          </ul>
        </div>

        <!-- Final Term Topics -->
        <div class="collapsible-container">
          <button class="collapsible">Final Term Topics</button>
          <ul class="collapsible-content">
            <li><a href="#" data-file="notes/8.md">Network Traffic Analysis</a></li>
            <li><a href="#" data-file="notes/9.md">Event Logs</a></li>
            <li><a href="#" data-file="notes/10.md">Email Security Fundamental</a></li>
          </ul>
        </div>
      </nav>
      
    <div id="sidebar-footer">
      <a href="https://github.com/AndreaTatoy" target="_blank" class="github-link">
        üê± GitHub
      </a>
    </div>

    </div>

    <div id="content" class="page-transition">
      <p>Loading...</p>
    </div>
  </div>

<script>
document.addEventListener('DOMContentLoaded', () => {

  const collapsibles = document.querySelectorAll('.collapsible');
  const links = document.querySelectorAll('nav a');
  const content = document.getElementById('content');

  // ---- Typing Animation ----
  const description = document.getElementById('description');
  const text = "üå∏ hey there! welcome to my little corner of knowledge! üåü\n\ngrab a cup of coffee ‚òï, \nexplore the topics, and let's have some fun learning about information \nsecurity! üöÄüíª";
  let i = 0;

  function typeWriter() {
    if (i < text.length) {
      description.innerHTML += text.charAt(i) === '\n' ? '<br>' : text.charAt(i);
      i++;
      setTimeout(typeWriter,30); // typing speed in ms
    }
  }

  typeWriter();

  // ---- Collapsible toggle ----
  collapsibles.forEach(button => {
    button.addEventListener('click', () => {
      const panel = button.nextElementSibling;

      collapsibles.forEach(other => {
        if (other !== button) {
          other.classList.remove('active');
          other.nextElementSibling.style.display = 'none';
        }
      });

      const isOpen = panel.style.display === "block";
      panel.style.display = isOpen ? "none" : "block";
      button.classList.toggle('active', !isOpen);
    });
  });

  // ---- Load markdown ----
  async function loadMarkdown(file) {
    try {
      const res = await fetch(file);
      if (!res.ok) throw new Error('File not found: ' + file + ' (status: ' + res.status + ')');
      const mdText = await res.text();
      
      content.classList.remove('page-transition');
      void content.offsetWidth; // force reflow
      content.classList.add('page-transition');

      content.innerHTML = marked.parse(mdText);
    } catch (err) {
      content.innerHTML = `<p style="color:red;">Error loading file: ${err.message}</p>`;
      console.error(err);
    }
  }

  // ---- Default page to About Me ----
  const aboutLink = document.querySelector('a[data-file="notes/about.md"]');

  if (aboutLink) {
    aboutLink.classList.add('active'); 
    loadMarkdown('notes/about.md');    
  }

  // ---- Link click behavior ----
  links.forEach(link => {
    link.addEventListener('click', e => {
      e.preventDefault();

      links.forEach(l => l.classList.remove('active'));
      link.classList.add('active');

      const isAbout = !link.closest('.collapsible-container');
      if (isAbout) {
        collapsibles.forEach(c => {
          c.classList.remove('active');
          c.nextElementSibling.style.display = 'none';
        });
      } else {
        collapsibles.forEach(c => c.classList.remove('active'));
        const parentCollapsible = link.closest('.collapsible-container').querySelector('.collapsible');
        parentCollapsible.classList.add('active');
        parentCollapsible.nextElementSibling.style.display = 'block';
      }

      const file = link.getAttribute('data-file');
      loadMarkdown(file);
    });
  });

});
</script>

</body>
</html>